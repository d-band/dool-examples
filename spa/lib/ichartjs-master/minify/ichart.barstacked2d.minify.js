iChart.BarStacked2D=iChart.extend(iChart.Bar,{configure:function(){iChart.BarStacked2D.superclass.configure.call(this);this.type="barstacked2d";this.dataType="stacked";this.set({percent:!1,labels:[],sub_option:{label:{color:"#ffffff"},valueAlign:"middle"}})},doEngine:function(a,q,l,g,m,r,h,n,o,i){var c,b,j,p=a.get("percent");a.columns.each(function(d,e){c=0;j=p?100/d.total:1;d.item.each(function(f,k){b=(f.value*j-g.start)*m/g.distance;f.total=d.total;a.doParse(a,f,k,{id:e+"_"+k,originy:i+e*h,originx:n+(0<b?0:-Math.abs(b))+c,width:Math.abs(b)});c+=b;a.rectangles.push(new iChart.Rectangle2D(a.get("sub_option"),a))},a);a.doLabel(a,e,d.name,o,i-0.5*l+(e+0.5)*h)},a)},doConfig:function(){iChart.BarStacked2D.superclass.doConfig.call(this);this.push("sub_option.valueAlign",this.C);this.engine(this)}});iChart.register("BarStacked2D");