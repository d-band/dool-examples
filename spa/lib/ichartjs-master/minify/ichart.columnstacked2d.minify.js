iChart.ColumnStacked2D=iChart.extend(iChart.Column,{configure:function(){iChart.ColumnStacked2D.superclass.configure.call(this);this.type="columnstacked2d";this.dataType="stacked";this.set({percent:!1,labels:[],sub_option:{label:{color:"#ffffff"},valueAlign:"middle"}})},doEngine:function(a,q,l,g,m,r,s,h,i,n,o){var c,b,j,p=a.get("percent");a.columns.each(function(d,e){c=0;j=p?100/d.total:1;d.item.each(function(f,k){b=(f.value*j-g.start)*m/g.distance;f.total=d.total;a.doParse(a,f,k,{id:e+"_"+k,originx:i+e*h,originy:n-(0<b?b:0)-c,height:Math.abs(b)});c+=b;a.rectangles.push(new iChart[a.sub](a.get("sub_option"),a))},a);a.doLabel(a,e,d.name,i-0.5*l+(e+0.5)*h,o)},a)},doConfig:function(){iChart.ColumnStacked2D.superclass.doConfig.call(this);this.engine(this)}});iChart.register("ColumnStacked2D");