iChart.Painter=iChart.extend(iChart.Element,{configure:function(){this.type="painter";this.dimension=iChart._2D;iChart.DefineAbstract("commonDraw",this);iChart.DefineAbstract("initialize",this);this.set({strokeStyle:"gray",padding:10,color:"black",offsetx:0,offsety:0,background_color:"#FEFEFE",color_factor:0.15,style:"",border:{enable:!0},gradient:!1,gradient_mode:"LinearGradientUpDown",z_index:0,listeners:null,originx:null,originy:null});this.variable.event={mouseover:!1};this.variable.animation={};this.registerEvent("click","mousemove","mouseover","mouseout","beforedraw","draw")},is3D:function(){return this.dimension==iChart._3D},applyGradient:function(a,d,c,e){var b=this._();b.get("gradient")&&b.get("f_color")&&(b.push("f_color",b.T.gradient(a||b.x||0,d||b.y||0,c||b.get(b.W),e||b.get(b.H),[b.get("dark_color"),b.get("light_color")],b.get("gradient_mode"))),b.push("light_color",b.T.gradient(a||b.x||0,d||b.y||0,c||b.get(b.W),e||b.get(b.H),[b.get("background_color"),b.get("light_color")],b.get("gradient_mode"))),b.push("f_color_",b.get("f_color")))},draw:function(a,d){if(d)this.root.draw(a);else{if(!this.fireEvent(this,"beforedraw",[this,a]))return this;this.commonDraw(this,a);this.fireEvent(this,"draw",[this,a])}},inject:function(a){a&&(this.root=a,this.target=this.T=a.T)},doConfig:function(){var a=this._(),d=iChart.parsePadding(a.get("padding")),c=a.get("border.enable"),c=c?iChart.parsePadding(a.get("border.width")):[0,0,0,0],e=iChart.toRgb(a.get("background_color")),b=a.get("color_factor"),f=a.get("gradient")?0:null;a.set({border_top:c[0],border_right:c[1],border_bottom:c[2],border_left:c[3],hborder:c[1]+c[3],vborder:c[0]+c[2],padding_top:d[0]+c[0],padding_right:d[1]+c[1],padding_bottom:d[2]+c[2],padding_left:d[3]+c[3],hpadding:d[1]+d[3]+c[1]+c[3],vpadding:d[0]+d[2]+c[0]+c[2]});!0===a.get("shadow")&&a.push("shadow",{color:a.get("shadow_color"),blur:a.get("shadow_blur"),offsetx:a.get("shadow_offsetx"),offsety:a.get("shadow_offsety")});a.push("f_color",e);a.push("f_color_",e);a.push("light_color",iChart.light(e,b,f));a.push("dark_color",iChart.dark(e,0.8*b,f));a.push("light_color2",iChart.light(e,2*b,f));a.is3D()&&!a.get("xAngle_")&&(d=iChart.vectorP2P(a.get("xAngle"),a.get("yAngle")),a.push("xAngle_",d.x),a.push("yAngle_",d.y))}});